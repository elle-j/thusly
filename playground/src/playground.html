<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Thusly - Interactive Playground</title>
    <link
      rel="stylesheet"
      data-name="vs/editor/editor.main"
      href="./node_modules/monaco-editor/min/vs/editor/editor.main.css"
    />
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>
    <!-- Temporary -->
    <!-- <figure style="overflow:visible;" id="spinner">
      <div class="spinner"></div><center style="margin-top:0.5em"><strong>emscripten</strong></center>
    </figure>
    <div class="emscripten" id="status">
      Downloading...
    </div>
    <div class="emscripten">
      <progress value="0" max="100" id="progress" hidden=1></progress>
    </div>
    <hr/> -->
    <!---->

    <header>
      <!-- Code snippets to choose from. -->
      <!-- Their `value`s are identical to the properties in `snippets.js`. -->
      <div class="th-tabs">
        <h1 class="th-title">
          Thusly<br>Playground
        </h1>
        <div class="th-tab">
          <input
            type="radio"
            id="th-loops-snippet"
            name="snippet"
            value="loops"
            checked
          />
          <label for="th-loops-snippet">Loops</label>
        </div>
        <div class="th-tab">
          <input
            type="radio"
            id="th-selection-snippet"
            name="snippet"
            value="selection"
          />
          <label for="th-selection-snippet">Selection</label>
        </div>
        <div class="th-tab">
          <input
            type="radio"
            id="th-block-snippet"
            name="snippet"
            value="standaloneBlock"
          />
          <label for="th-block-snippet">Block</label>
        </div>
      </div>
      <!-- The `Run` button and debug options. -->
      <div class="th-operations">
        <div class="th-operation">
          <label for="th-debug-compilation">Bytecode</label>
          <input
            type="checkbox"
            id="th-debug-compilation"
            name="debug option"
            checked
          />
        </div>
        <div class="th-operation">
          <label for="th-debug-execution">Execution</label>
          <input
            type="checkbox"
            id="th-debug-execution"
            name="debug option"
          />
        </div>
        <!-- The button will become enabled when `Module.onRuntimeInitialized`. -->
        <button id="th-run" disabled style="cursor: not-allowed;">
          <div class="th-run-icon"></div>
        </button>
      </div>
    </header>
    <div class="th-separator"></div>

    <!-- The editor and output. -->
    <main>
      <div id="th-editor"></div>
      <textarea readonly id="th-output" rows="10"></textarea>
    </main>

    <!-- Extra information. -->
    <footer>
      <a href="https://github.com/elle-j/thusly" target="_blank" rel="noopener noreferrer">GitHub</a>
    </footer>

    <!-- Scripts. -->

    <!-- Load the Wasm setup first. -->
    <script src="wasm_setup.js" type="text/javascript"></script>

    <!-- VS Code's Monaco editor. -->
    <script>
      var require = { paths: { vs: "./node_modules/monaco-editor/min/vs" } };
    </script>
    <script src="./node_modules/monaco-editor/min/vs/loader.js"></script>
    <script src="./node_modules/monaco-editor/min/vs/editor/editor.main.nls.js"></script>
    <script src="./node_modules/monaco-editor/min/vs/editor/editor.main.js"></script>
    <script src="editor_setup.js" type="module"></script>
    <!-- <script src="editor_setup.js" type="module" async></script> -->

    <!-- Main handling of the DOM. -->
    <script src="playground.js" type="module"></script>

    <!-- Emscripten -->
    {{{ SCRIPT }}}

  </body>
</html>
